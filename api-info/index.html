{"posts":[{"fileName":"rong-qi-ji-chu-namespace-de-shi-xian-yuan-li","abstract":"","description":"[Toc] namespace的主要目的是为了实现资源的隔离和管理，以避免不同进程之间的资源竞争和冲突。同时，它也可以提供更高的安全性，因为每个进程只能访问其namespace中的资源，而无法访问其他进程的资源。因此，namespace机制...","title":"容器基础-namespace的实现原理","tags":[{"name":"container","slug":"0eVBqVXix","used":true,"link":"https://nomagic.cc/tag/0eVBqVXix/"}],"feature":"","link":"https://nomagic.cc/post/rong-qi-ji-chu-namespace-de-shi-xian-yuan-li/","stats":{"text":"7 min read","time":389000,"words":1384,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#pid_namespace-%E5%AE%9E%E7%8E%B0pid-%E9%9A%94%E7%A6%BB%E5%8E%9F%E7%90%86\">pid_namespace 实现pid 隔离原理</a>\n<ul>\n<li><a href=\"#pid-%E5%88%86%E9%85%8D\">pid 分配</a></li>\n<li><a href=\"#pid%E9%9A%94%E7%A6%BB\">pid隔离</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2023-09-13 17:27:52","dateFormat":"2023-09-13"},{"fileName":"istio-jie-shao-yu-ji-ben-shi-yong","abstract":"","description":" 备注：实例代码参考：https://github.com/inclee/istio-demo.git 什么是服务网格，它的技术背景是什么 随着业务发展，服务量持续增长，系统需要转向微服务架构以应对快速迭代和大规模并发的需求。在微服务系统...","title":"Istio 基本原理与使用实践","tags":[{"name":"Istio","slug":"9JziPul1H","used":true,"link":"https://nomagic.cc/tag/9JziPul1H/"},{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/"}],"feature":"","link":"https://nomagic.cc/post/istio-jie-shao-yu-ji-ben-shi-yong/","stats":{"text":"30 min read","time":1780000,"words":7459,"minutes":30},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC%E5%AE%83%E7%9A%84%E6%8A%80%E6%9C%AF%E8%83%8C%E6%99%AF%E6%98%AF%E4%BB%80%E4%B9%88\">什么是服务网格，它的技术背景是什么</a>\n<ul>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E7%9A%84%E4%B8%89%E7%A7%8D%E5%BD%A2%E6%80%81\">服务治理的三种形态</a></li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC%E6%89%80%E9%9C%80%E8%A6%81%E6%BB%A1%E8%B6%B3%E7%9A%84%E7%89%B9%E6%80%A7\">服务网格所需要满足的特性</a></li>\n</ul>\n</li>\n<li><a href=\"#istio\">Istio</a>\n<ul>\n<li><a href=\"#istio-%E7%AE%80%E4%BB%8B\">Istio 简介</a></li>\n<li><a href=\"#istio%E7%9A%84%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6\">Istio的核心组件</a></li>\n</ul>\n</li>\n<li><a href=\"#istio%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\">Istio的工作原理</a>\n<ul>\n<li><a href=\"#%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5\">自动注入:</a></li>\n<li><a href=\"#%E6%B5%81%E9%87%8F%E6%8B%A6%E6%88%AA\">流量拦截:</a></li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0\">服务发现:</a></li>\n<li><a href=\"#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1\">负载均衡:</a></li>\n<li><a href=\"#%E6%B5%81%E9%87%8F%E6%B2%BB%E7%90%86\">流量治理:</a></li>\n<li><a href=\"#%E8%AE%BF%E9%97%AE%E5%AE%89%E5%85%A8\">访问安全:</a></li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E9%81%A5%E6%B5%8B\">服务遥测:</a></li>\n<li><a href=\"#%E7%AD%96%E7%95%A5%E6%89%A7%E8%A1%8C\">策略执行:</a></li>\n<li><a href=\"#%E5%A4%96%E9%83%A8%E8%AE%BF%E9%97%AE\">外部访问:</a></li>\n</ul>\n</li>\n<li><a href=\"#istio-%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B\">Istio 应用实例</a>\n<ul>\n<li><a href=\"#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\">环境搭建</a></li>\n<li><a href=\"#%E5%AE%9E%E4%BE%8B\">实例</a>\n<ul>\n<li><a href=\"#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1-2\">负载均衡</a></li>\n<li><a href=\"#%E7%81%B0%E5%BA%A6%E5%8F%91%E5%B8%83\">灰度发布</a>\n<ul>\n<li><a href=\"#%E5%9F%BA%E4%BA%8E%E6%AF%94%E4%BE%8B%E7%9A%84%E7%81%B0%E5%BA%A6\">基于比例的灰度</a></li>\n<li><a href=\"#%E5%9F%BA%E4%BA%8E%E5%86%85%E5%AE%B9%E7%9A%84%E7%81%B0%E5%BA%A6\">基于内容的灰度</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%B6%85%E6%97%B6\">超时</a></li>\n<li><a href=\"#http-%E9%87%8D%E5%AE%9A%E5%90%91\">HTTP 重定向</a></li>\n<li><a href=\"#http-%E9%87%8D%E5%86%99\">HTTP 重写</a></li>\n<li><a href=\"#%E9%87%8D%E8%AF%95\">重试</a></li>\n<li><a href=\"#%E7%86%94%E6%96%AD\">熔断</a></li>\n<li><a href=\"#%E9%99%90%E6%B5%81\">限流</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2023-04-02 23:28:56","dateFormat":"2023-04-02"},{"fileName":"kubelet-yuan-ma-jie-xi","abstract":"","description":"kubelet kubelet 主要作用 同步pod状态 从数据源(本地文件，url接口，apiserver)获取Pod的期望状态，同步所管理的pod至期望状态 Pod 状态同步至ApiServer 容器的健康监测 监测容器的健...","title":"kubelet源码解析","tags":[{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/"},{"name":"Kubernetes","slug":"ktZOV2JFga","used":true,"link":"https://nomagic.cc/tag/ktZOV2JFga/"}],"feature":"","link":"https://nomagic.cc/post/kubelet-yuan-ma-jie-xi/","stats":{"text":"10 min read","time":580000,"words":1973,"minutes":10},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#kubelet\">kubelet</a>\n<ul>\n<li><a href=\"#kubelet-%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8\">kubelet 主要作用</a>\n<ul>\n<li><a href=\"#pleg\">pleg</a></li>\n</ul>\n</li>\n<li><a href=\"#pod-%E7%8A%B6%E6%80%81%E5%90%8C%E6%AD%A5%E5%AE%9E%E7%8E%B0\">Pod 状态同步实现</a>\n<ul>\n<li><a href=\"#%E6%95%B4%E4%BD%93%E5%90%8C%E6%AD%A5%E6%B5%81%E7%A8%8B\">整体同步流程</a></li>\n<li><a href=\"#%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6%E7%9A%84%E8%8E%B7%E5%8F%96\">变更事件的获取</a>\n<ul>\n<li><a href=\"#podconfig\">PodConfig</a></li>\n<li><a href=\"#configmux\">config.Mux</a>\n<ul>\n<li><a href=\"#%E7%9B%91%E5%90%AC%E6%B3%A8%E5%86%8C\">监听注册</a></li>\n</ul>\n</li>\n<li><a href=\"#podstorage\">podStorage</a>\n<ul>\n<li><a href=\"#merge\">Merge</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#pod%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91\">Pod事件分发</a>\n<ul>\n<li><a href=\"#syncloop\">syncLoop</a>\n<ul>\n<li><a href=\"#pod%E5%8F%98%E6%9B%B4%E4%BA%8B%E4%BB%B6%E5%90%8C%E6%AD%A5\">pod变更事件同步</a>\n<ul>\n<li><a href=\"#%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B\">处理流程</a></li>\n</ul>\n</li>\n<li><a href=\"#syncch-%E5%AE%9A%E6%97%B6%E5%90%8C%E6%AD%A5\">syncCh 定时同步</a></li>\n<li><a href=\"#pleg-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%BA%8B%E4%BB%B6%E5%90%8C%E6%AD%A5\">pleg 生命周期事件同步</a>\n<ul>\n<li><a href=\"#%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B-2\">处理流程</a></li>\n</ul>\n</li>\n<li><a href=\"#probe-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86livenessreadiness\">Probe 事件处理（liveness/readiness）</a>\n<ul>\n<li><a href=\"#%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B-3\">处理流程</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2023-03-25 18:01:09","dateFormat":"2023-03-25"},{"fileName":"wei-fu-wu-jia-gou-xia-de-shu-ju-yi-zhi-xing-fang-an","abstract":"","description":"我们知道微服务开发模式下，每个微服的存储也是独立隔离开的，每个服务都有自己单独的存储，这就引发了一个问题如何确保微服务架构下的数据一致性呢？更具体的是说如何实现原子性和隔离性的呢？ 原子性和隔离性在分布式下分别对应原子提交和并发控制，原子...","title":"微服务架构下的数据一致性方案","tags":[{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"},{"name":"分布式","slug":"koIKj_rC2u","used":true,"link":"https://nomagic.cc/tag/koIKj_rC2u/"},{"name":"数据一致性","slug":"ivZiHU4PH9","used":true,"link":"https://nomagic.cc/tag/ivZiHU4PH9/"},{"name":"事务","slug":"7OsqSvtpRi","used":true,"link":"https://nomagic.cc/tag/7OsqSvtpRi/"}],"feature":"","link":"https://nomagic.cc/post/wei-fu-wu-jia-gou-xia-de-shu-ju-yi-zhi-xing-fang-an/","stats":{"text":"11 min read","time":629000,"words":2935,"minutes":11},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8distributed-transaction-manager%E7%AE%80%E7%A7%B0dtm%E4%B8%A4%E9%98%B6%E6%AE%B5%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4\">分布式事务管理器（Distributed Transaction Manager，简称DTM）两阶段/三阶段提交</a>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86\">基本原理</a></li>\n<li><a href=\"#%E7%BB%84%E6%88%90\">组成</a></li>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88\">实现方案</a>\n<ul>\n<li><a href=\"#xa-%E5%8D%8F%E8%AE%AE\">XA 协议</a>\n<ul>\n<li><a href=\"#xa%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%A6%82%E4%B8%8B\">XA协议的执行流程如下：</a></li>\n<li><a href=\"#tm%E7%9A%84%E5%AE%9E%E7%8E%B0\">TM的实现</a></li>\n<li><a href=\"#rm%E7%9A%84%E5%AE%9E%E7%8E%B0\">RM的实现</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E4%BB%A3%E7%A0%81%E5%8F%82%E8%80%83\">实现代码参考</a></li>\n<li><a href=\"#%E5%92%8C%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E7%9A%84%E5%85%B3%E7%B3%BB2pc\">和两阶段提交的关系（2PC）</a></li>\n<li><a href=\"#%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4\">三阶段提交</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7\">数据最终一致性</a>\n<ul>\n<li><a href=\"#%E9%81%BF%E5%85%8D%E5%90%8C%E6%97%B6%E8%B7%A8%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%86%99%E6%93%8D%E4%BD%9C\">避免同时跨服务的写操作</a></li>\n<li><a href=\"#%E6%9C%80%E5%A4%A7%E5%8A%AA%E5%8A%9B%E9%80%9A%E7%9F%A5-%E6%9C%80%E5%A4%A7%E5%8A%AA%E5%8A%9B%E5%A4%84%E7%90%86\">最大努力通知 + 最大努力处理</a></li>\n<li><a href=\"#%E4%BF%9D%E8%AF%81%E5%B9%82%E7%AD%89%E6%80%A7\">保证幂等性</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2022-11-10 16:58:59","dateFormat":"2022-11-10"},{"fileName":"han-shu-shi-bian-cheng","abstract":"","description":"函数式编程 理论基础： 真身：不是编程语言里的函数，而是数学里的函数概念。 λ演算 一套用于研究函数定义、应用和递归的形式系统 λ演算被称为最小的通用编程语言。可以用来清晰地定义什么是一个可计算函数。它包括一条变换规则（变量替换）和一条函数...","title":"函数式编程","tags":[{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"}],"feature":"","link":"https://nomagic.cc/post/han-shu-shi-bian-cheng/","stats":{"text":"8 min read","time":477000,"words":1817,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B\">函数式编程</a>\n<ul>\n<li><a href=\"#%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80\">理论基础：</a>\n<ul>\n<li><a href=\"#%CE%BB%E6%BC%94%E7%AE%97\">λ演算</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%97%A0%E7%8A%B6%E6%80%81%E5%92%8C%E6%97%A0%E5%89%AF%E4%BD%9C%E7%94%A8\"><strong>无状态和无副作用</strong>：</a>\n<ul>\n<li><a href=\"#%E5%85%B3%E4%BA%8E%E7%8A%B6%E6%80%81\">关于状态：</a></li>\n<li><a href=\"#%E6%97%A0%E7%8A%B6%E6%80%81%E5%AE%9E%E7%8E%B0\">无状态实现</a></li>\n<li><a href=\"#%E6%97%A0%E5%89%AF%E4%BD%9C%E7%94%A8\">无副作用</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%A0%B8%E5%BF%83%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84\"><strong>核心工具与数据结构</strong>：</a>\n<ul>\n<li><a href=\"#%E6%80%BB%E5%BE%97%E9%80%BB%E8%BE%91\">总得逻辑</a></li>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%B7%A5%E5%85%B7\">实现的工具</a></li>\n<li><a href=\"#%E4%BE%8B%E5%AD%90\"><strong>例子</strong></a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%87%BD%E6%95%B0%E7%BB%84%E5%90%88%E4%BB%A3%E7%A0%81%E7%BB%84%E5%90%88%E5%92%8C%E6%8A%BD%E8%B1%A1%E6%96%B9%E5%BC%8F\"><strong>函数组合</strong>：（代码组合和抽象方式）</a>\n<ul>\n<li><a href=\"#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0\"><strong>高阶函数</strong>：</a></li>\n<li><a href=\"#%E6%9F%AF%E9%87%8C%E5%8C%96\">柯里化</a></li>\n<li><a href=\"#%E6%83%B0%E6%80%A7%E6%B1%82%E5%80%BC\"><strong>惰性求值</strong>：</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B9%B6%E8%A1%8C%E5%8C%96%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B\"><strong>并行化与异步编程</strong>：</a></li>\n<li><a href=\"#%E6%A8%A1%E5%9D%97%E5%8C%96%E5%92%8C%E5%8F%AF%E6%B5%8B%E8%AF%95%E6%80%A7\"><strong>模块化和可测试性</strong>：</a></li>\n<li><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></li>\n</ul>\n</li>\n</ul>\n","date":"2022-10-07 14:46:39","dateFormat":"2022-10-07"},{"fileName":"boltdb-jia-gou-jie-du","abstract":"","description":"boltdb 是受LMDB项目的启发，使用的go语言实现的一个本地kv存储引擎。可嵌入到自己的项目中实现kv数据的本地存储，知名的项目etcd,consul,openvpn等使用了boltdb进行数据存储 逻辑结构 使用单个文件来存储kv数...","title":"boltdb 架构解读","tags":[{"name":"存储","slug":"EAUMfuU_1","used":true,"link":"https://nomagic.cc/tag/EAUMfuU_1/"},{"name":"DB","slug":"7WO-7vE-Pv","used":true,"link":"https://nomagic.cc/tag/7WO-7vE-Pv/"}],"feature":"","link":"https://nomagic.cc/post/boltdb-jia-gou-jie-du/","stats":{"text":"11 min read","time":620000,"words":2347,"minutes":11},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84\">逻辑结构</a></li>\n<li><a href=\"#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84\">物理结构</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87\">数据组织</a></li>\n<li><a href=\"#freelist\">freelist</a></li>\n<li><a href=\"#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%AE%9E%E7%8E%B0\">事务的实现</a>\n<ul>\n<li><a href=\"#%E5%8E%9F%E5%AD%90%E6%80%A7%E5%AE%9E%E7%8E%B0\">原子性实现</a></li>\n<li><a href=\"#%E4%B8%80%E8%87%B4%E6%80%A7%E5%AE%9E%E7%8E%B0\">一致性实现</a></li>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E5%AE%9E%E7%8E%B0\">隔离实现</a></li>\n<li><a href=\"#%E6%8C%81%E4%B9%85%E6%80%A7%E5%AE%9E%E7%8E%B0\">持久性实现</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B9%B6%E5%8F%91\">并发</a></li>\n</ul>\n","date":"2022-09-05 17:38:31","dateFormat":"2022-09-05"},{"fileName":"kube-proxy","abstract":"","description":"不确定的 pod ip 我们知道在k8s中，应用是以pod模式部署运行的，deployment通过replicset控制pod满足应用的预期状态，在整个协调的过程中，pod是会动态的销毁或者重建，在整个过程中代表每个POD的网路地址及pod...","title":"kube-proxy设计及实现","tags":[],"feature":"","link":"https://nomagic.cc/post/kube-proxy/","stats":{"text":"1 min read","time":42000,"words":194,"minutes":1},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E4%B8%8D%E7%A1%AE%E5%AE%9A%E7%9A%84-pod-ip\">不确定的 pod ip</a></li>\n<li><a href=\"#service-api-%E5%AF%B9%E8%B1%A1\">service api 对象</a></li>\n<li><a href=\"#endpoints\">endpoints</a></li>\n<li><a href=\"#kube-proxy-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F\">kube-proxy 代理模式</a>\n<ul>\n<li><a href=\"#ipvs\">ipvs</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2022-06-07 22:00:41","dateFormat":"2022-06-07"},{"fileName":"containerd-yuan-ma-jie-xi","abstract":"","description":"containerd 介绍 （图片来源：https://blog.csdn.net/chengyinwu/article/details/121842772） Containerd 是一个工业级标准的容器运行时，它强调简单性、健壮性和可移...","title":"Containerd 源码解析","tags":[{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/"},{"name":"Kubernetes","slug":"ktZOV2JFga","used":true,"link":"https://nomagic.cc/tag/ktZOV2JFga/"},{"name":"container","slug":"0eVBqVXix","used":true,"link":"https://nomagic.cc/tag/0eVBqVXix/"}],"feature":"","link":"https://nomagic.cc/post/containerd-yuan-ma-jie-xi/","stats":{"text":"14 min read","time":801000,"words":2695,"minutes":14},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#containerd-%E4%BB%8B%E7%BB%8D\">containerd 介绍</a></li>\n<li><a href=\"#containerd-%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2\">containerd 发展历史</a></li>\n<li><a href=\"#containerd-%E6%9E%B6%E6%9E%84%E5%9B%BE\">Containerd 架构图</a></li>\n<li><a href=\"#cri%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8E%A5%E5%8F%A3\">CRI（容器运行时接口）</a></li>\n<li><a href=\"#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90\">源码分析</a>\n<ul>\n<li><a href=\"#cri-grpc%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%90%AF%E5%8A%A8\">cri grpc服务的启动。</a></li>\n<li><a href=\"#kubelet-%E5%92%8Ccri-%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BA%A4%E4%BA%92\">kubelet 和cri 插件的交互</a>\n<ul>\n<li><a href=\"#sandbox%E5%88%9B%E5%BB%BA\">sandbox创建</a></li>\n<li><a href=\"#container%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8C\">container的创建和运行</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2022-03-16 10:53:30","dateFormat":"2022-03-16"},{"fileName":"rong-qi-di-ceng-yuan-li","abstract":"","description":"容器技术的背景 虚拟机（硬件虚拟化）在满足大规模服务部署的要求方面存在一些限制，资源占用，维护配置成本，快速扩缩容。 需要一种更轻量的虚拟化技术（操作系统虚拟化），由操作系统创建虚拟的系统环境，使应用感知不到其他应用的存在，仿佛在独自占有全...","title":"容器底层原理","tags":[{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/"},{"name":"Kubernetes","slug":"ktZOV2JFga","used":true,"link":"https://nomagic.cc/tag/ktZOV2JFga/"},{"name":"container","slug":"0eVBqVXix","used":true,"link":"https://nomagic.cc/tag/0eVBqVXix/"}],"feature":"","link":"https://nomagic.cc/post/rong-qi-di-ceng-yuan-li/","stats":{"text":"14 min read","time":785000,"words":3256,"minutes":14},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF%E7%9A%84%E8%83%8C%E6%99%AF\">容器技术的背景</a></li>\n<li><a href=\"#docker%E6%98%AF%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E8%BF%99%E7%A7%8D%E9%9A%94%E7%A6%BB%E7%8E%AF%E5%A2%83%E7%9A%84\">docker是如何创建这种隔离环境的</a>\n<ul>\n<li><a href=\"#namesapce\">namesapce</a>\n<ul>\n<li><a href=\"#%E9%9A%94%E7%A6%BB%E4%BE%8B%E5%AD%90\">隔离例子：</a></li>\n</ul>\n</li>\n<li><a href=\"#pid-namespace-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86\">pid namespace 的实现原理</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></li>\n<li><a href=\"#cgroup\">cgroup</a><br>\n*\n<ul>\n<li><a href=\"#cgroup-v2%E7%89%88%E6%9C%AC%E7%9A%84%E6%8E%A7%E5%88%B6\">cgroup v2版本的控制</a></li>\n<li><a href=\"#%E6%80%BB%E7%BB%93-2\">总结</a></li>\n</ul>\n</li>\n<li><a href=\"#rootfs\">rootfs</a>\n<ul>\n<li><a href=\"#aufs\">aufs</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2021-10-18 09:09:45","dateFormat":"2021-10-18"},{"fileName":"kubernetes-de-yi-xie-you-xiu-de-she-ji-li-nian","abstract":"","description":" 声明式API： Kubernetes的API是声明式的，这意味着用户只需通过API对象来描述他们希望得到的服务或应用，而不需要关注实现细节。这种设计使得Kubernetes具有更高的可编程性和可定制性，方便用户使用和扩展。 这个概念也可...","title":"Kubernetes的一些优秀的设计理念","tags":[{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/"},{"name":"Kubernetes","slug":"ktZOV2JFga","used":true,"link":"https://nomagic.cc/tag/ktZOV2JFga/"},{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"},{"name":"container","slug":"0eVBqVXix","used":true,"link":"https://nomagic.cc/tag/0eVBqVXix/"}],"feature":"","link":"https://nomagic.cc/post/kubernetes-de-yi-xie-you-xiu-de-she-ji-li-nian/","stats":{"text":"3 min read","time":173000,"words":843,"minutes":3},"isTop":false,"toc":"","date":"2021-10-02 18:27:06","dateFormat":"2021-10-02"},{"fileName":"iptables-xiang-jie","abstract":"","description":"实现原理参考： 内核实现 iptables 只是用户空间编写和传递规则的工具，真正起作用的事netfilter 表之间的优先级 iptables 表的优先级设定是为了解决不同的表之间可能存在的冲突和重叠问题。 iptables 包含了一...","title":"iptables 详解","tags":[],"feature":"","link":"https://nomagic.cc/post/iptables-xiang-jie/","stats":{"text":"7 min read","time":401000,"words":1775,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%8F%82%E8%80%83\">实现原理参考：</a></li>\n<li><a href=\"#%E8%A1%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7\">表之间的优先级</a></li>\n<li><a href=\"#%E5%9B%9B%E5%BC%A0%E8%A1%A8%E7%9A%84%E4%BD%9C%E7%94%A8\">四张表的作用</a></li>\n<li><a href=\"#%E8%A1%A8%E4%B8%8E%E9%93%BE%E7%9A%84%E5%85%B3%E7%B3%BB\">表与链的关系</a></li>\n<li><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%93%BE\">自定义链</a></li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97\">常用模块</a>\n<ul>\n<li><a href=\"#multiport-%E5%A4%9A%E7%AB%AF%E5%8F%A3%E5%8C%B9%E9%85%8D\">multiport: 多端口匹配</a></li>\n<li><a href=\"#iprange-%E5%8C%B9%E9%85%8D%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E5%9C%B0%E5%9D%80\">iprange: 匹配指定范围内的地址</a></li>\n<li><a href=\"#string-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E8%83%BD%E5%A4%9F%E6%A3%80%E6%B5%8B%E6%8A%A5%E6%96%87%E5%BA%94%E7%94%A8%E5%B1%82%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2\">string: 字符串匹配，能够检测报文应用层中的字符串</a></li>\n<li><a href=\"#connlimit-%E8%BF%9E%E6%8E%A5%E6%95%B0%E9%99%90%E5%88%B6\">connlimit: 连接数限制</a></li>\n<li><a href=\"#limit-%E9%80%9F%E7%8E%87%E9%99%90%E5%88%B6\">limit: 速率限制</a></li>\n<li><a href=\"#state-%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5\">state: 状态检查</a></li>\n<li><a href=\"#addrtype-%E5%9F%BA%E4%BA%8E%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%B9%E9%85%8D\">addrtype: =基于地址类型的匹配。</a></li>\n<li><a href=\"#comment-%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A%E6%88%96%E6%A0%87%E8%AE%B0%E7%9A%84%E5%91%BD%E4%BB%A4\">comment 添加注释或标记的命令。</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2021-08-23 16:51:13","dateFormat":"2021-08-23"},{"fileName":"mysql-shi-shi-tong-bu-clickhouse-she-ji","abstract":"","description":"目前公司OLAP使用的数据库是clickhouse,业务数据库使用的是MySQL，在做数据分析的时候需要把MySQL中的数据实时同步到clickhouse中.就采用解析binlog,然后映射到clickhouse的语句执行动作回放。 遇到的...","title":"数据同步","tags":[],"feature":"","link":"https://nomagic.cc/post/mysql-shi-shi-tong-bu-clickhouse-she-ji/","stats":{"text":"1 min read","time":34000,"words":166,"minutes":1},"isTop":false,"toc":"","date":"2021-06-27 13:30:06","dateFormat":"2021-06-27"},{"fileName":"kafka-ru-he-shi-xian-xiao-xi-de-ke-kao-xing","abstract":"","description":"持久化存储 Kafka 使用可靠的持久性存储来保存所有的消息，这样即使在消息发送后，即使消费者暂时离线或无法立即处理消息，或者broker节点down掉，消息仍然可以保留在 磁盘中不会丢失，另外Kafka的消费者使用基于偏移量的提交方式，确...","title":"kafka如何实现消息的可靠性？","tags":[{"name":"消息队列","slug":"hfuIIFfPD","used":true,"link":"https://nomagic.cc/tag/hfuIIFfPD/"},{"name":"中间件","slug":"GZ4dHebu8b","used":true,"link":"https://nomagic.cc/tag/GZ4dHebu8b/"}],"feature":"","link":"https://nomagic.cc/post/kafka-ru-he-shi-xian-xiao-xi-de-ke-kao-xing/","stats":{"text":"7 min read","time":403000,"words":1866,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8\">持久化存储</a></li>\n<li><a href=\"#ack%E6%9C%BA%E5%88%B6\">ACK机制</a></li>\n<li><a href=\"#%E5%89%AF%E6%9C%AC%E6%9C%BA%E5%88%B6\">副本机制</a><br>\n*\n<ul>\n<li><a href=\"#isr-%E6%9C%BA%E5%88%B6\">ISR 机制</a><br>\n*\n<ul>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E5%A4%8D%E5%88%B6%E5%90%8C%E6%AD%A5%E8%BF%87%E7%A8%8B\">数据复制同步过程</a></li>\n<li><a href=\"#%E5%89%AF%E6%9C%AC%E5%88%86%E5%8C%BA%E7%9A%84%E7%AE%A1%E7%90%86\">副本分区的管理</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%B9%E9%94%99%E6%9C%BA%E5%88%B6\">容错机制</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-11-12 11:19:48","dateFormat":"2020-11-12"},{"fileName":"clickhouse-ru-men-shi-yong-pian","abstract":"","description":"简介 ClickHouse（Click Stream,Data Warehouse）是一个用于联机分析(OLAP)的列式数据库管理系统。 其独立于Hadoop大数据体系，最核心的特点是极致压缩率和极速查询性能。同时，ClickHouse支持...","title":"Clickhouse 入门使用篇","tags":[{"name":"OLAP","slug":"XEuTzWD0l","used":true,"link":"https://nomagic.cc/tag/XEuTzWD0l/"},{"name":"DB","slug":"7WO-7vE-Pv","used":true,"link":"https://nomagic.cc/tag/7WO-7vE-Pv/"}],"feature":"","link":"https://nomagic.cc/post/clickhouse-ru-men-shi-yong-pian/","stats":{"text":"24 min read","time":1380000,"words":6021,"minutes":24},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li><a href=\"#%E7%89%B9%E6%80%A7\">特性</a></li>\n<li><a href=\"#%E9%99%90%E5%88%B6\">限制</a></li>\n<li><a href=\"#%E9%9B%86%E7%BE%A4%E6%9E%B6%E6%9E%84%E4%B8%8E%E9%83%A8%E7%BD%B2%E8%AE%BE%E8%AE%A1\">集群架构与部署设计</a></li>\n<li><a href=\"#%E5%92%8Czookeeper%E7%9A%84%E5%85%B3%E7%B3%BB\">和zookeeper的关系</a>\n<ul>\n<li><a href=\"#%E5%AD%98%E5%82%A8%E5%85%83%E6%95%B0%E6%8D%AE%E4%BF%A1%E6%81%AF\">存储元数据信息</a></li>\n<li><a href=\"#%E6%89%A7%E8%A1%8C%E5%88%86%E5%B8%83%E5%BC%8Fddl-%E6%B7%BB%E5%8A%A0-on-cluster-%E5%85%B3%E9%94%AE%E5%AD%97\">执行分布式DDL （添加 on cluster 关键字）</a></li>\n<li><a href=\"#replicate-%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5\">Replicate 主从同步</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%A1%A8%E5%BC%95%E6%93%8E\">表引擎</a>\n<ul>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%BC%95%E6%93%8E%E4%BB%8B%E7%BB%8D\">常用表引擎介绍</a></li>\n<li><a href=\"#kafka\">Kafka</a></li>\n<li><a href=\"#mergetree%E7%B3%BB%E5%88%97\">MergeTree系列</a>\n<ul>\n<li><a href=\"#mergetree\">MergeTree</a></li>\n<li><a href=\"#replacingmergetree\">ReplacingMergeTree</a></li>\n<li><a href=\"#collapsingmergetree\">CollapsingMergeTree</a></li>\n<li><a href=\"#versionedcollapsingmergetree\">VersionedCollapsingMergeTree</a></li>\n<li><a href=\"#summingmergetree\">SummingMergeTree</a></li>\n<li><a href=\"#aggregatingmergetree\">AggregatingMergeTree</a></li>\n<li><a href=\"#%E7%89%A9%E5%8C%96%E8%A7%86%E5%9B%BE\">物化视图</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98\">常见问题</a>\n<ul>\n<li><a href=\"#too-many-partsxxx-merges-are-processing-significantly-slower-than-inserts\">Too many parts(xxx). Merges are processing significantly slower than inserts**</a></li>\n<li><a href=\"#memory-limit-for-query-exceededwould-use-937-gib-attempt-to-allocate-chunk-of-301989888-bytes-maximum-931-gib\">Memory limit (for query) exceeded:would use 9.37 GiB (attempt to allocate chunk of 301989888 bytes), maximum: 9.31 GiB**</a></li>\n<li><a href=\"#table-readonly\">table readonly</a></li>\n<li><a href=\"#cannot-create-table-from-metadata-file-varlibclickhousemetadataxxxxxsql-error-coordinationexception-cant-get-data-for-node-clickhousetablesxxcluster_xxx-01xxxxmetadata-node-doesnt-exist-no-node-stack-trace\">Cannot create table from metadata file /var/lib/clickhouse/metadata/xx/xxx.sql, error: Coordination::Exception: Can’t get data for node /clickhouse/tables/xx/cluster_xxx-01/xxxx/metadata: node doesn’t exist (No node), stack trace:**</a></li>\n<li><a href=\"#cannot-execute-replicated-ddl-query-on-leader\">Cannot execute replicated DDL query on leader**</a></li>\n<li><a href=\"#not-executing-log-entry-is-greater-than-the-current-maximum\">Not executing log entry ... is greater than the current maximum</a></li>\n<li><a href=\"#%E5%86%85%E5%AD%98%E5%A2%9E%E9%AB%98%E7%9B%B4%E8%87%B3%E8%8A%82%E7%82%B9oom\">内存增高直至节点OOM</a></li>\n<li><a href=\"#%E5%88%86%E7%89%87%E6%95%B0%E6%8D%AE%E9%94%99%E8%AF%AF%E6%97%A0%E6%B3%95%E5%AE%8C%E6%88%90%E5%90%88%E5%B9%B6%E4%B8%80%E7%9B%B4%E5%8D%A0%E7%94%A8%E5%90%88%E5%B9%B6%E9%98%9F%E5%88%97%E5%90%8E%E7%BB%AD%E6%95%B0%E6%8D%AE%E6%97%A0%E6%B3%95%E5%86%99%E5%85%A5\">分片数据错误，无法完成合并，一直占用合并队列，后续数据无法写入</a></li>\n<li><a href=\"#clickhouse%E9%87%8D%E5%90%AF%E6%97%B6%E9%BB%98%E8%AE%A4%E6%89%A7%E8%A1%8C-chown-101-varlibclickhouse%E8%80%97%E6%97%B6%E5%BE%88%E9%95%BF%E5%AF%BC%E8%87%B4%E5%90%AF%E5%8A%A8%E9%9C%80%E8%A6%81%E8%8A%B1%E5%BE%88%E4%B9%85%E6%9C%8D%E5%8A%A1%E6%89%8D%E5%8F%AF%E7%94%A8\">clickhouse重启时，默认执行 chown 101 /var/lib/clickhouse,耗时很长,导致启动需要花很久服务才可用</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BC%98%E5%8C%96\">优化</a>\n<ul>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E9%80%89%E6%8B%A9\">数据类型选择</a></li>\n<li><a href=\"#%E5%88%86%E5%8C%BA\">分区</a></li>\n<li><a href=\"#%E4%B8%BB%E9%94%AE%E6%8E%92%E5%BA%8F%E9%94%AE\">主键排序键</a></li>\n<li><a href=\"#join-%E6%9F%A5%E8%AF%A2\">Join 查询</a></li>\n<li><a href=\"#%E5%86%99%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4\">写入和删除</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%92%8C%E8%AF%AD%E5%8F%A5\">常用表和语句</a>\n<ul>\n<li><a href=\"#%E7%A1%AE%E8%AE%A4%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5%E6%83%85%E5%86%B5\">确认当前连接情况</a></li>\n<li><a href=\"#%E5%BD%93%E5%89%8D%E6%AD%A3%E5%9C%A8%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9F%A5%E8%AF%A2\">当前正在执行的查询</a></li>\n<li><a href=\"#kill-query\">KILL Query</a></li>\n<li><a href=\"#%E6%85%A2%E6%9F%A5%E8%AF%A2\">慢查询</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-08-12 13:39:19","dateFormat":"2020-08-12"},{"fileName":"guan-yu-wei-fu-wu","abstract":"","description":"为什么需要微服务架构和开发模式 其实本质上是一个解耦和治理的过程，我们知道现在的应用服务越来越复杂，代码量也越来越大，如果还是按照单体模式去构造应用就会带来很多问题比如： 代码管理：所有代码都耦合在一起，一个应用的代码量惊人，没有人可以全...","title":"关于微服务","tags":[{"name":"架构","slug":"OipL-4-Uu","used":true,"link":"https://nomagic.cc/tag/OipL-4-Uu/"},{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"},{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"}],"feature":"","link":"https://nomagic.cc/post/guan-yu-wei-fu-wu/","stats":{"text":"12 min read","time":687000,"words":3406,"minutes":12},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%92%8C%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F\">为什么需要微服务架构和开发模式</a></li>\n<li><a href=\"#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%BC%98%E7%82%B9\">微服务的优点：</a></li>\n<li><a href=\"#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%BC%BA%E7%82%B9\">微服务的缺点</a></li>\n<li><a href=\"#api%E7%BD%91%E5%85%B3\">API网关</a>\n<ul>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8api%E7%BD%91%E5%85%B3\">为什么要使用API网关</a></li>\n<li><a href=\"#api%E7%BD%91%E5%85%B3%E7%9A%84%E4%BC%98%E7%82%B9\">API网关的优点</a></li>\n<li><a href=\"#api%E7%BD%91%E5%85%B3%E7%9A%84%E7%BC%BA%E7%82%B9\">API网关的缺点</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0\">服务发现</a>\n<ul>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0\">为什么使用服务发现</a></li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E7%9A%84%E7%A7%8D%E7%B1%BB\">服务发现的种类</a>\n<ul>\n<li><a href=\"#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0\">客户端服务发现</a></li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0\">服务端服务发现</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86\">微服务的分布式数据管理</a>\n<ul>\n<li><a href=\"#%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1\">分布式事务</a></li>\n<li><a href=\"#%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E6%9E%B6%E6%9E%84\">事件驱动架构</a>\n<ul>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E5%8E%9F%E5%AD%90%E6%80%A7%E7%9A%84%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF\">如何原子性的发送消息：</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86\">微服务的服务治理</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-06-11 16:55:12","dateFormat":"2020-06-11"},{"fileName":"chou-xiang-he-chou-xiang-yuan-ze","abstract":"","description":"#抽象的定义： 在软件工程和计算机科学中，抽象是一种隐藏计算机系统复杂性的技术。他的工作原理是在用户和计算机系统的交互之间建立一个简单的层次，隐藏更多的底部复杂细节【wikipedia】 可以看出这里的抽象就是指复杂功能的抽象出来的接口...","title":"抽象和抽象原则","tags":[{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"}],"feature":"","link":"https://nomagic.cc/post/chou-xiang-he-chou-xiang-yuan-ze/","stats":{"text":"3 min read","time":179000,"words":822,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E6%8A%BD%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%88%99\">抽象的原则：</a></li>\n</ul>\n","date":"2019-11-11 11:41:45","dateFormat":"2019-11-11"},{"fileName":"shu-ju-jie-gou-zhi-jian-de-luo-ji","abstract":"","description":"这边文章只是试图理解每种数据结构之间的关系，理解每个数据结构是用来解决什么问题的，然后有什么不足，进而通过什么数据结构来解决这个不足 从分治说起 应对大数据量的方法。 分治和递归 递归是分治的一种程序性结构(碰巧解决方案一样了：非重叠子问题...","title":"数据结构之间的逻辑","tags":[{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"}],"feature":"","link":"https://nomagic.cc/post/shu-ju-jie-gou-zhi-jian-de-luo-ji/","stats":{"text":"4 min read","time":199000,"words":926,"minutes":4},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E4%BB%8E%E5%88%86%E6%B2%BB%E8%AF%B4%E8%B5%B7\">从分治说起</a>\n<ul>\n<li><a href=\"#%E5%88%86%E6%B2%BB%E5%92%8C%E9%80%92%E5%BD%92\">分治和递归</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BB%8E%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E5%88%B0%E4%BA%8C%E5%8F%89%E6%A0%91\">从二分查找到二叉树</a></li>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%8D%E6%98%AF345k%E5%88%86%E5%8F%89%E6%A0%91\">为什么是二叉树，不是3/4/5..k分叉树</a></li>\n<li><a href=\"#%E4%BB%8E%E4%BA%8C%E5%8F%89%E6%A0%91%E5%88%B0%E5%B9%B3%E8%A1%A1%E6%A0%91\">从二叉树到平衡树</a></li>\n<li><a href=\"#avl-btree-rbtree-%E4%B9%8B%E9%97%B4%E7%9A%84%E6%AF%94%E8%BE%83\">AVL、BTree、RBTree 之间的比较</a>\n<ul>\n<li><a href=\"#%E7%90%86%E8%A7%A3avl%E6%A0%91%E7%9A%84%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C\">理解AVL树的选择操作</a></li>\n<li><a href=\"#btree%E7%9A%84%E8%87%AA%E5%B9%B3%E8%A1%A1%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%B9%B3%E8%A1%A1%E7%9A%84%E4%BB%A3%E4%BB%B7%E4%B8%BA%E4%BB%80%E4%B9%88db%E5%AD%98%E5%82%A8%E5%81%8F%E7%88%B1btree\">BTree的自平衡，以及自平衡的代价，为什么DB存储偏爱BTree</a></li>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88rbtree%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E6%9B%B4%E5%B9%BF\">为什么RBTree的使用场景更广</a></li>\n<li><a href=\"#hash-table-%E5%92%8C%E5%B9%B3%E8%A1%A1%E6%A0%91%E7%9A%84%E6%AF%94%E8%BE%83\">hash table 和平衡树的比较</a></li>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88redis%E4%BD%BF%E7%94%A8dict%E5%92%8Czset%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8-skiplist-%E8%80%8C%E4%B8%8D%E6%98%AF%E5%B9%B3%E8%A1%A1%E6%A0%91\">为什么redis使用dict和zset为什么使用 skiplist 而不是平衡树</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%8B%93%E5%B1%95%E5%8F%AA%E5%81%9A%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5%E4%BB%8B%E7%BB%8D\">拓展（只做关键概念介绍）</a>\n<ul>\n<li><a href=\"#%E5%A0%86%E5%89%8D%E7%BC%80%E6%A0%91%E7%BA%BF%E6%AE%B5%E6%A0%91%E9%9B%86%E5%90%88\">堆，前缀树，线段树（集合）</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></li>\n</ul>\n","date":"2019-09-21 15:47:07","dateFormat":"2019-09-21"},{"fileName":"bian-liang-lian-jie-shu-xing-he-cun-chu-shu-xing","abstract":"","description":"备注： 文章中出现的标识符即C语言中定义的变量或者函数名称 问题 我们知道C语言的代码实现文件（.c） 经过编译后（注意这里并没有.h文件），生成对应的.o文件，然后经过链接器链接成生成可执行程序，那么： 当我们在不同的.c文件中定全...","title":"C/C++ 变量链接属性和存储属性","tags":[{"name":"C/C++","slug":"71Awkfdg6","used":true,"link":"https://nomagic.cc/tag/71Awkfdg6/"},{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/"}],"feature":"","link":"https://nomagic.cc/post/bian-liang-lian-jie-shu-xing-he-cun-chu-shu-xing/","stats":{"text":"11 min read","time":608000,"words":2726,"minutes":11},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E9%97%AE%E9%A2%98\">问题</a></li>\n<li><a href=\"#%E9%93%BE%E6%8E%A5%E5%B1%9E%E6%80%A7\">链接属性</a>\n<ul>\n<li><a href=\"#external\">external</a></li>\n</ul>\n</li>\n<li><a href=\"#internal\">internal</a>\n<ul>\n<li><a href=\"#none\">none</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AD%98%E5%82%A8%E7%B1%BB%E5%9E%8B\">存储类型</a></li>\n<li><a href=\"#%E5%85%B3%E4%BA%8E%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E7%BC%98%E7%94%B1\">关于头文件的缘由</a></li>\n</ul>\n</li>\n</ul>\n","date":"2019-08-07 14:37:54","dateFormat":"2019-08-07"},{"fileName":"huan-cun-she-ji","abstract":"","description":"为什么要使用缓存 在高并发场景下，需要通过缓存来减少数据库的压力，使得大量的访问进来能够命中缓存，只有少量的需要到数据库层。由于缓存基于内存，可支持的并发量远远大于基于硬盘的数据库。所以对于高并发设计，缓存的设计时必不可少的一环。 为什么D...","title":"缓存设计","tags":[{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/"}],"feature":"","link":"https://nomagic.cc/post/huan-cun-she-ji/","stats":{"text":"16 min read","time":936000,"words":4627,"minutes":16},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98\">为什么要使用缓存</a></li>\n<li><a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88db%E4%B8%8D%E5%8F%AF%E4%BB%A5\">为什么DB不可以</a>\n<ul>\n<li><a href=\"#%E6%80%BB%E4%BD%93%E6%9D%A5%E7%9C%8B%E7%BC%93%E5%AD%98%E7%9A%84%E9%97%AE%E9%A2%98\">总体来看缓存的问题</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E5%9C%A8%E6%9E%B6%E6%9E%84%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE\">缓存在架构中的位置</a>\n<ul>\n<li><a href=\"#%E6%8E%A5%E5%85%A5%E5%B1%82%E7%BC%93%E5%AD%98\">接入层缓存</a>\n<ul>\n<li><a href=\"#nginx\">nginx</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BA%94%E7%94%A8%E5%B1%82%E7%BC%93%E5%AD%98\">应用层缓存</a>\n<ul>\n<li><a href=\"#%E5%B8%B8%E8%A7%81%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98\">常见分布式缓存</a>\n<ul>\n<li><a href=\"#memcached\">Memcached</a></li>\n<li><a href=\"#redis\">Redis</a></li>\n<li><a href=\"#%E4%B8%A4%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%86%E4%B8%8E%E9%80%89%E6%8B%A9\">两者的区分与选择</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%96%B9%E6%B3%95\">缓存设计的方法</a>\n<ul>\n<li><a href=\"#%E5%88%86%E5%B1%82%E8%AE%BE%E8%AE%A1\">分层设计</a>\n<ul>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E8%BF%9B%E7%A8%8B%E5%88%86%E5%B1%82%E8%AE%BE%E8%AE%A1\">如何进程分层设计</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%88%86%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1\">分场景设计</a></li>\n<li><a href=\"#%E5%88%86%E7%89%87%E8%AE%BE%E8%AE%A1\">分片设计</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%89%B9%E5%AE%9A%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%BC%93%E5%AD%98%E7%9A%84%E8%AE%BE%E8%AE%A1\">特定场景下缓存的设计</a>\n<ul>\n<li><a href=\"#%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4%E5%8E%9F%E6%A0%B7%E7%BC%93%E5%AD%98\">和数据库中的数据结构保持一致，原样缓存</a></li>\n<li><a href=\"#%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F%E5%88%86%E9%A1%B5%E5%9C%BA%E6%99%AF%E7%9A%84%E7%BC%93%E5%AD%98\">列表排序分页场景的缓存</a></li>\n<li><a href=\"#%E8%AE%A1%E6%95%B0%E7%BC%93%E5%AD%98\">计数缓存</a></li>\n<li><a href=\"#%E9%87%8D%E6%9E%84%E7%BB%B4%E5%BA%A6%E7%BC%93%E5%AD%98\">重构维度缓存</a></li>\n<li><a href=\"#%E8%BE%83%E5%A4%A7%E7%9A%84%E8%AF%A6%E6%83%85%E5%86%85%E5%AE%B9%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98\">较大的详情内容数据缓存</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E4%B8%89%E5%A4%A7%E7%9F%9B%E7%9B%BE%E9%97%AE%E9%A2%98\">缓存三大矛盾问题</a>\n<ul>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E5%AE%9E%E6%97%B6%E6%80%A7%E5%92%8C%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98%E5%BD%93%E6%9C%89%E4%BA%86%E5%86%99%E5%85%A5%E5%90%8E%E5%92%8B%E5%8A%9E\">缓存实时性和一致性问题：当有了写入后咋办？</a></li>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E7%9A%84%E7%A9%BF%E9%80%8F%E9%97%AE%E9%A2%98%E5%BD%93%E6%B2%A1%E6%9C%89%E8%AF%BB%E5%88%B0%E5%92%8B%E5%8A%9E\">缓存的穿透问题：当没有读到咋办？</a></li>\n<li><a href=\"#%E7%BC%93%E5%AD%98%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE%E9%83%BD%E6%9D%A5%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8B%E5%8A%9E\">缓存对数据库高并发访问：都来访问数据库咋办？</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E4%B8%89%E5%A4%A7%E7%9F%9B%E7%9B%BE%E7%9A%84%E5%88%B7%E6%96%B0%E7%AD%96%E7%95%A5\">解决缓存三大矛盾的刷新策略</a>\n<ul>\n<li><a href=\"#%E5%AE%9E%E6%97%B6%E7%AD%96%E7%95%A5\">实时策略</a></li>\n<li><a href=\"#%E5%BC%82%E6%AD%A5%E7%AD%96%E7%95%A5\">异步策略</a>\n<ul>\n<li><a href=\"#%E9%97%AE%E9%A2%98\">问题</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2019-04-11 15:25:07","dateFormat":"2019-04-11"},{"fileName":"python-zhuang-shi-qi","abstract":"","description":"{{TOC}} 简述 装饰器是Python语言的一种高级语法糖，它可以用于动态地修改函数或类的行为。装饰器的使用可以简化代码，提高代码的可读性和可维护性。 装饰器的实现原理 Python的装饰器实质上是一个语法糖，它允许我们在不修改函数或方...","title":"python 装饰器","tags":[{"name":"Python","slug":"UAtIUe2o9","used":true,"link":"https://nomagic.cc/tag/UAtIUe2o9/"},{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/"},{"name":"装饰器","slug":"MKDAiPLhmq","used":true,"link":"https://nomagic.cc/tag/MKDAiPLhmq/"}],"feature":"","link":"https://nomagic.cc/post/python-zhuang-shi-qi/","stats":{"text":"11 min read","time":618000,"words":2342,"minutes":11},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86\">装饰器的实现原理</a></li>\n<li><a href=\"#%E4%BB%A5%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%AE%9E%E7%8E%B0%E8%A3%85%E9%A5%B0%E5%99%A8\">以函数的形式实现装饰器</a>\n<ul>\n<li><a href=\"#%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E4%BE%8B%E5%AD%90\">一个简单装饰器的例子</a></li>\n<li><a href=\"#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%8F%82%E6%95%B0\">装饰器的参数</a>\n<ul>\n<li><a href=\"#%E8%A2%AB%E8%A3%85%E9%A5%B0%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0\">被装饰函数的参数</a></li>\n<li><a href=\"#%E8%A3%85%E9%A5%B0%E5%99%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0\">装饰器函数的参数</a></li>\n<li><a href=\"#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%8F%82%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8\">装饰器的参数的应用</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%85%83%E4%BF%A1%E6%81%AF%E4%B8%A2%E5%A4%B1\">元信息丢失</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87%E8%A3%85%E9%A5%B0%E5%99%A8%E7%BB%99%E5%87%BD%E6%95%B0%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E6%9D%A5%E6%89%A9%E5%B1%95%E5%87%BD%E6%95%B0%E7%9A%84%E5%8A%9F%E8%83%BD\">通过装饰器给函数添加属性，来扩展函数的功能</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E6%9D%A5%E9%AA%8C%E8%AF%81%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B\">使用装饰器来验证参数类型</a></li>\n<li><a href=\"#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8-%E4%BD%BF%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E6%9D%A5%E8%A3%85%E9%A5%B0%E7%B1%BB\">类装饰器-使用装饰器来装饰类</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BB%A5%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E6%9D%A5%E5%AE%9E%E7%8E%B0%E8%A3%85%E9%A5%B0%E5%99%A8\">以类的方法来实现装饰器</a></li>\n<li><a href=\"#%E4%BB%A5%E7%B1%BB%E7%9A%84%E5%BD%A2%E5%BC%8F%E6%9D%A5%E5%AE%9E%E7%8E%B0%E8%A3%85%E9%A5%B0%E5%99%A8\">以类的形式来实现装饰器</a></li>\n</ul>\n</li>\n</ul>\n","date":"2019-01-11 11:02:15","dateFormat":"2019-01-11"},{"fileName":"go-micro-yuan-ma-yue-du-transport","abstract":"","description":"作用 从tranport.go的注释和之前的博文中可以看出transport的功能是提供异步通信。 // Package is an interface for synchronous communication package trans...","title":"go micro 源码阅读-transport","tags":[{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"}],"feature":"","link":"https://nomagic.cc/post/go-micro-yuan-ma-yue-du-transport/","stats":{"text":"5 min read","time":255000,"words":831,"minutes":5},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E4%BD%9C%E7%94%A8\">作用</a></li>\n<li><a href=\"#%E6%8E%A5%E5%8F%A3\">接口</a></li>\n<li><a href=\"#dial\">Dial</a>\n<ul>\n<li><a href=\"#listener\">Listener</a></li>\n<li><a href=\"#accept\">Accept</a></li>\n</ul>\n</li>\n</ul>\n","date":"2018-11-11 15:46:51","dateFormat":"2018-11-11"},{"fileName":"go-micro-yuan-ma-yue-du-broker","abstract":"","description":"作用 从前面的博文可以看出Broker是Service异步通信的基础功能组件。那么好奇的是Broker的代码逻辑到底是怎么样的，如何提供异步通信呢？ 整体代码逻辑 type Broker interface { Options() Opt...","title":"go micro 源码阅读-Broker","tags":[{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"}],"feature":"","link":"https://nomagic.cc/post/go-micro-yuan-ma-yue-du-broker/","stats":{"text":"7 min read","time":368000,"words":1269,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E4%BD%9C%E7%94%A8\">作用</a></li>\n<li><a href=\"#%E6%95%B4%E4%BD%93%E4%BB%A3%E7%A0%81%E9%80%BB%E8%BE%91\">整体代码逻辑</a></li>\n<li><a href=\"#%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90\">代码解析</a>\n<ul>\n<li><a href=\"#%E5%88%9B%E5%BB%BA\">创建</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%90%AF%E5%8A%A8%E5%85%B3%E9%97%AD%E7%9B%91%E5%90%AC\">启动/关闭监听</a><br>\n*\n<ul>\n<li><a href=\"#connect\">Connect</a></li>\n<li><a href=\"#disconnect\">DisConnect</a></li>\n<li><a href=\"#%E8%AE%A2%E9%98%85\">订阅</a></li>\n<li><a href=\"#%E5%8F%91%E5%B8%83\">发布</a></li>\n<li><a href=\"#%E8%AE%A2%E9%98%85%E6%94%B6%E5%88%B0-publisher-%E5%8F%91%E9%80%81%E7%9A%84%E6%B6%88%E6%81%AFhandle%E5%A4%84%E7%90%86\">订阅收到 publisher 发送的消息handle处理</a></li>\n</ul>\n</li>\n</ul>\n","date":"2018-09-25 22:48:18","dateFormat":"2018-09-25"},{"fileName":"gong-yao-si-yao-shu-zi-qian-ming","abstract":"","description":"目的： 保证发送方和发送的内容都没遭到篡改。其实就是说： 1 身份验证 2 数据完整性验证 加密的分类 对称加密 （私钥加密、共享密钥加密） 对称加密算法的特点是加密使用的密钥和解密使用的密钥是相同的。也就是说，加密和解密都是使用的同一个密...","title":"公钥、私钥、数字签名","tags":[],"feature":"","link":"https://nomagic.cc/post/gong-yao-si-yao-shu-zi-qian-ming/","stats":{"text":"7 min read","time":409000,"words":1932,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E5%8A%A0%E5%AF%86%E7%9A%84%E5%88%86%E7%B1%BB\">加密的分类</a>\n<ul>\n<li><a href=\"#%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86\">对称加密</a></li>\n<li><a href=\"#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8Ddigital-signature\">数字签名（digital signature）</a>\n<ul>\n<li><a href=\"#%E5%BF%85%E8%A6%81%E4%B8%8E%E8%81%94%E7%B3%BB\">必要与联系</a></li>\n<li><a href=\"#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E5%8E%9F%E7%90%86\">数字签名原理</a></li>\n<li><a href=\"#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F\">数字签名使用方式</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6digital-certificate\">数字证书（Digital Certificate）</a></li>\n<li><a href=\"#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86\">非对称加密</a></li>\n<li><a href=\"#%E5%8D%95%E5%90%91%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0\">单向散列函数</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%A7%81%E9%92%A5%E5%8A%A0%E5%AF%86\">私钥加密</a></li>\n<li><a href=\"#%E5%85%AC%E9%92%A5%E5%8A%A0%E5%AF%86\">公钥加密：</a>\n<ul>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E7%A1%AE%E4%BF%9D%E5%86%85%E5%AE%B9%E4%B8%8D%E8%A2%AB%E7%AF%A1%E6%94%B9\">如何确保内容不被篡改</a></li>\n<li><a href=\"#hash%E6%98%8E%E6%96%87-%E6%91%98%E8%A6%81a%E7%A7%81%E9%92%A5%E6%91%98%E8%A6%81-%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E6%98%8E%E6%96%87%E7%AD%BE%E5%90%8D-%E7%AD%BE%E5%90%8D%E6%98%8E%E6%96%87%E7%94%9F%E6%88%90%E5%8A%A0%E5%AF%86%E7%A7%98%E9%92%A5des-%E5%AF%B9%E7%AD%BE%E5%90%8D%E6%98%8E%E6%96%87%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86-%E5%AF%86%E6%96%87b%E5%85%AC%E9%92%A5%E5%8A%A0%E5%AF%86%E7%A7%98%E9%92%A5des-%E5%AF%86%E6%96%87-%E5%8F%91%E9%80%81\">HASH(明文) ------&gt; 摘要<br>\nA私钥(摘要) ------&gt; 数字签名<br>\n明文+签名  ------&gt; 签名明文<br>\n生成加密秘钥DES 对签名明文进行加密 --&gt;密文<br>\nB公钥（加密秘钥DES）+ 密文--&gt;发送</a></li>\n</ul>\n</li>\n</ul>\n","date":"2018-09-23 14:32:22","dateFormat":"2018-09-23"},{"fileName":"go-micro-yuan-ma-yue-du-jie-gou","abstract":"","description":"介绍 micro 是一个用来开发cloud native application的程序工具集，采用的是微服务架构，使用go语言编写。 micro主要包括： toolkits api - api 网关，服务的唯一入口点 bot - Sla...","title":"Go micro 源码阅读-结构","tags":[{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"}],"feature":"","link":"https://nomagic.cc/post/go-micro-yuan-ma-yue-du-jie-gou/","stats":{"text":"3 min read","time":165000,"words":672,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E4%BB%8B%E7%BB%8D\">介绍</a></li>\n<li><a href=\"#go-micro\">go-micro</a></li>\n<li><a href=\"#%E7%BB%84%E4%BB%B6\">组件</a></li>\n</ul>\n","date":"2018-09-23 11:43:20","dateFormat":"2018-09-23"},{"fileName":"li-jie-fen-bu-shi-xi-tong-de-8-ge-miu-wu","abstract":"","description":"您正在开发分布式系统吗？微服务、Web API、SOA、Web 服务器、应用程序服务器、数据库服务器、缓存服务器、负载均衡器 – 如果这些描述了系统设计中的组件，那么答案是肯定的。分布式系统由许多计算机组成，这些计算机通过协调来实现共同的目...","title":"理解分布式系统的 8 个谬误（译）","tags":[],"feature":"","link":"https://nomagic.cc/post/li-jie-fen-bu-shi-xi-tong-de-8-ge-miu-wu/","stats":{"text":"18 min read","time":1063000,"words":5197,"minutes":18},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#%E7%BD%91%E7%BB%9C%E6%98%AF%E5%8F%AF%E9%9D%A0\">网络是可靠</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BB%B6%E8%BF%9F%E4%B8%BA%E9%9B%B6\">延迟为零</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-2\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-2\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%A6%E5%AE%BD%E6%98%AF%E6%97%A0%E9%99%90%E7%9A%84\">带宽是无限的</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-3\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-3\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BD%91%E7%BB%9C%E6%98%AF%E5%AE%89%E5%85%A8\">网络是安全</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-4\">解决方案</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-4\">结论</a></li>\n<li><a href=\"#%E6%8B%93%E6%89%91%E4%B8%8D%E5%8F%98\">拓扑不变</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-5\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-5\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%9C%89%E4%B8%80%E5%90%8D%E7%AE%A1%E7%90%86%E5%91%98\">有一名管理员</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-6\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-6\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%BF%90%E8%BE%93%E6%88%90%E6%9C%AC%E4%B8%BA%E9%9B%B6\">运输成本为零</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-7\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-7\">结论</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BD%91%E7%BB%9C%E6%98%AF%E5%90%8C%E6%9E%84%E7%9A%84\">网络是同构的</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-8\">解决方案</a></li>\n<li><a href=\"#%E7%BB%93%E8%AE%BA-8\">结论</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2018-09-11 18:52:58","dateFormat":"2018-09-11"},{"fileName":"go-micro-yuan-ma-yue-du-options-functional-options-pattern","abstract":"","description":"解决的问题 如果想提供一个具有可选参数的方法，那么在其他语言中很简单使用默认值就好了。然而在Go中不支持默认值的做法，退而求其次那么使用函数重载好了，接着就会发现Go中同样不支持函数重载，那么我使用不同的函数名好了。。。。（代码估计很丑，并...","title":"go micro 源码阅读-Options [Functional Options Pattern]","tags":[{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/"}],"feature":"","link":"https://nomagic.cc/post/go-micro-yuan-ma-yue-du-options-functional-options-pattern/","stats":{"text":"4 min read","time":205000,"words":871,"minutes":4},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98\">解决的问题</a>\n<ul>\n<li><a href=\"#%E6%9E%84%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F\">构造者模式</a></li>\n<li><a href=\"#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0\">可变参数</a></li>\n<li><a href=\"#functional-options-pattern\">Functional Options Pattern</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BA%94%E7%94%A8\">应用</a></li>\n</ul>\n","date":"2018-08-24 23:49:24","dateFormat":"2018-08-24"},{"fileName":"python-mo-fa-han-shu","abstract":"","description":"魔法函数 1. 前言 1.1 什么是魔法函数？ 所谓魔法函数（Magic Methods），是Python的一种高级语法，允许你在类中自定义函数（函数名格式一般为__xx__），并绑定到类的特殊方法中。比如在类A中自定义__str__()函...","title":"python 魔法函数","tags":[{"name":"Python","slug":"UAtIUe2o9","used":true,"link":"https://nomagic.cc/tag/UAtIUe2o9/"},{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/"}],"feature":"","link":"https://nomagic.cc/post/python-mo-fa-han-shu/","stats":{"text":"15 min read","time":898000,"words":3452,"minutes":15},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0\">魔法函数</a>\n<ul>\n<li><a href=\"#1-%E5%89%8D%E8%A8%80\">1. 前言</a>\n<ul>\n<li><a href=\"#11-%E4%BB%80%E4%B9%88%E6%98%AF%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0\">1.1 什么是魔法函数？</a></li>\n<li><a href=\"#12-%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8\">1.2 魔法函数有什么作用？</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0\">2. 常见的魔法函数</a>\n<ul>\n<li><a href=\"#21-%E9%9D%9E%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97\">2.1 非数学运算</a></li>\n<li><a href=\"#211-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8%E7%A4%BA\">2.1.1 <strong>字符串表示</strong></a></li>\n<li><a href=\"#212-%E9%9B%86%E5%90%88-%E5%BA%8F%E5%88%97%E7%9B%B8%E5%85%B3\">2.1.2 集合、序列相关</a></li>\n<li><a href=\"#213-%E8%BF%AD%E4%BB%A3%E7%9B%B8%E5%85%B3\">2.1.3 迭代相关</a></li>\n<li><a href=\"#214-%E5%8F%AF%E8%B0%83%E7%94%A8\">2.1.4 <strong>可调用</strong></a></li>\n<li><a href=\"#215-with%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E5%99%A8\">2.1.5 <strong>with上下文管理器</strong></a></li>\n<li><a href=\"#216-%E6%95%B0%E5%80%BC%E8%BD%AC%E6%8D%A2\">2.1.6 数值转换</a></li>\n<li><a href=\"#217-%E5%85%83%E7%B1%BB%E7%9B%B8%E5%85%B3\">2.1.7 元类相关</a></li>\n<li><a href=\"#218-%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%85%B3\">2.1.8 <strong>属性相关</strong></a></li>\n<li><a href=\"#219-%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6\">2.1.9 属性描述符</a></li>\n<li><a href=\"#2110-%E5%8D%8F%E7%A8%8B\">2.1.10 <strong>协程</strong></a></li>\n<li><a href=\"#22-%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97\">2.2 <strong>数学运算</strong></a></li>\n<li><a href=\"#221-%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6\"><strong>2.2.1 一元运算符</strong></a></li>\n<li><a href=\"#222-%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.2 <strong>二元运算符</strong></a></li>\n<li><a href=\"#223-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.3 <strong>算术运算符</strong></a></li>\n<li><a href=\"#224-%E5%8F%8D%E5%90%91%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.4 <strong>反向算术运算符</strong></a></li>\n<li><a href=\"#225-%E5%A2%9E%E9%87%8F%E8%B5%8B%E5%80%BC%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.5 <strong>增量赋值算术运算符</strong></a></li>\n<li><a href=\"#226-%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.6 <strong>位运算符</strong></a></li>\n<li><a href=\"#227-%E5%8F%8D%E5%90%91%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.7 <strong>反向位运算符</strong></a></li>\n<li><a href=\"#228-%E5%A2%9E%E9%87%8F%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6\">2.2.8 <strong>增量赋值运算符</strong></a></li>\n<li><a href=\"#23-%E5%85%B6%E4%BB%96%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0\">2.3 其他魔法函数</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n</li>\n</ul>\n","date":"2018-04-01 23:53:06","dateFormat":"2018-04-01"},{"fileName":"you-qu-de-unownedunsafe","abstract":"","description":"逛git时，看到一段代码：源地址：https://gist.github.com/hoshi-takanori/07b2982c9942ebe186c530fa611921bb class Person { let name: S...","title":"有趣的unowned(unsafe)","tags":[{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/"}],"feature":"","link":"https://nomagic.cc/post/you-qu-de-unownedunsafe/","stats":{"text":"2 min read","time":94000,"words":367,"minutes":2},"isTop":false,"toc":"","date":"2016-11-01 17:13:32","dateFormat":"2016-11-01"},{"fileName":"swiftdeep-in-immutable","abstract":"","description":"这篇文章不探讨let.或者const的含义与用法，而是要探讨一个概念 value types is immutable #理念上的不可变 值类型是无法改变的。这个如何理解,比如下面的例子 struct Person{ ...","title":"Swift:Deep in immutable","tags":[{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/"}],"feature":"","link":"https://nomagic.cc/post/swiftdeep-in-immutable/","stats":{"text":"3 min read","time":173000,"words":729,"minutes":3},"isTop":false,"toc":"","date":"2016-05-01 23:17:22","dateFormat":"2016-05-01"}],"tags":[{"name":"container","slug":"0eVBqVXix","used":true,"link":"https://nomagic.cc/tag/0eVBqVXix/","count":4},{"name":"Istio","slug":"9JziPul1H","used":true,"link":"https://nomagic.cc/tag/9JziPul1H/","count":1},{"name":"云原生","slug":"KqPYTEiCx","used":true,"link":"https://nomagic.cc/tag/KqPYTEiCx/","count":5},{"name":"Kubernetes","slug":"ktZOV2JFga","used":true,"link":"https://nomagic.cc/tag/ktZOV2JFga/","count":4},{"name":"微服务","slug":"V4vnSrl0y","used":true,"link":"https://nomagic.cc/tag/V4vnSrl0y/","count":6},{"name":"分布式","slug":"koIKj_rC2u","used":true,"link":"https://nomagic.cc/tag/koIKj_rC2u/","count":1},{"name":"数据一致性","slug":"ivZiHU4PH9","used":true,"link":"https://nomagic.cc/tag/ivZiHU4PH9/","count":1},{"name":"事务","slug":"7OsqSvtpRi","used":true,"link":"https://nomagic.cc/tag/7OsqSvtpRi/","count":1},{"name":"编程思想","slug":"zy1lBI2aI","used":true,"link":"https://nomagic.cc/tag/zy1lBI2aI/","count":6},{"name":"存储","slug":"EAUMfuU_1","used":true,"link":"https://nomagic.cc/tag/EAUMfuU_1/","count":1},{"name":"DB","slug":"7WO-7vE-Pv","used":true,"link":"https://nomagic.cc/tag/7WO-7vE-Pv/","count":2},{"name":"消息队列","slug":"hfuIIFfPD","used":true,"link":"https://nomagic.cc/tag/hfuIIFfPD/","count":1},{"name":"中间件","slug":"GZ4dHebu8b","used":true,"link":"https://nomagic.cc/tag/GZ4dHebu8b/","count":1},{"name":"OLAP","slug":"XEuTzWD0l","used":true,"link":"https://nomagic.cc/tag/XEuTzWD0l/","count":1},{"name":"架构","slug":"OipL-4-Uu","used":true,"link":"https://nomagic.cc/tag/OipL-4-Uu/","count":1},{"name":"C/C++","slug":"71Awkfdg6","used":true,"link":"https://nomagic.cc/tag/71Awkfdg6/","count":1},{"name":"编程语言","slug":"GFINS7rzD","used":true,"link":"https://nomagic.cc/tag/GFINS7rzD/","count":5},{"name":"Python","slug":"UAtIUe2o9","used":true,"link":"https://nomagic.cc/tag/UAtIUe2o9/","count":2},{"name":"装饰器","slug":"MKDAiPLhmq","used":true,"link":"https://nomagic.cc/tag/MKDAiPLhmq/","count":1}],"menus":[{"link":"/","name":"首页","openType":"Internal"},{"link":"/archives","name":"归档","openType":"Internal"},{"link":"/tags","name":"标签","openType":"Internal"},{"link":"/post/about","name":"关于","openType":"Internal"}],"themeConfig":{"themeName":"concise","postPageSize":10,"archivesPageSize":50,"siteName":"","siteDescription":"面对问题，解决问题","footerInfo":"","showFeatureImage":true,"domain":"https://nomagic.cc","postUrlFormat":"SLUG","tagUrlFormat":"SHORT_ID","dateFormat":"YYYY-MM-DD","feedFullText":true,"feedCount":10,"archivesPath":"archives","postPath":"post","tagPath":"tag"},"customConfig":{"APP_ID":"","APP_KEY":"","about":"","avatar":"","bsc":"#c1bcbc","ccf":"#4a4a4a","ccs":"#868e96","cofs":"#817c7c","ctf":"#ffffff","cts":"#f3f3f3a8","flip":"#ffffff","ga":"","github":"","highlight":"#0085a1","ho":0.4,"instagram":"","isEnabledCustomColor":false,"lc":"#0000001a","live2d":false,"live2d-model":"tororo","pageSize":"5","placeholder":"Just Go Go","recordIp":false,"send-o":"","skin":"white","twitter":"","vMaxWidth":"1000","vPadding":"2.5%","vPercentWidth":"100","valine":false,"visitor":false,"weibo":"","zhihu":""},"utils":{"now":1707147571740}}
